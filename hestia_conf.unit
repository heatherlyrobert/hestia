#!/usr/local/bin/koios
#   koios-polos (north star) -- customized c unit testing meta-program and mini-language
#   program under test  : hestia_conf
#   auto-generated script file converted from a previous script version



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include public header                hestia.h                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (CONF) verify reading various configurations                       conf_config                                                                                           ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     initialize the system                prog__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     code     change the configuration file        - - - - - - - - - - - - -   strcpy (my.n_conf, "/tmp/hestia.conf");                                                                                                                                                                                    
     code     remove the old version               - - - - - - - - - - - - -   system ("rm -f /tmp/hestia.conf 2> /dev/null");                                                                                                                                                                                    

   COND       create a configuration file (single tty)                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"##/bin/hestia\"                                                                                                                >  /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty3       §  on    §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"## end of file\"                                                                                                               >> /tmp/hestia.conf");                                          

   COND       read the configuration file                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      reset all ttys                       tty_init                                                                                                                          i_equal     0                                                                                                     
     get      ... check tty status                 tty__unit                   "status"               , 0                                                                            s_equal     TTY status       : [////////////////////////////////////////]                                         
     exec     call config read                     conf_driver                                                                                                                       i_equal     0                                                                                                    
     get      ... check tty status                 tty__unit                   "status"               , 0                                                                            s_equal     TTY status       : [///a////////////////////////////////////]                                         

   COND       create a configuration file (multiple ons and offs)                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"##/bin/hestia\"                                                                                                                >  /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty2       §  off   §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty4       §  off   §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty5       §  on    §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty6       §  on    §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty20      §  on    §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"## end of file\"                                                                                                               >> /tmp/hestia.conf");                                          

   COND       read the configuration file                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      reset all ttys                       tty_init                                                                                                                          i_equal     0                                                                                                     
     get      ... check tty status                 tty__unit                   "status"               , 0                                                                            s_equal     TTY status       : [////////////////////////////////////////]                                         
     exec     call config read                     conf_driver                                                                                                                       i_equal     0                                                                                                    
     get      ... check tty status                 tty__unit                   "status"               , 0                                                                            s_equal     TTY status       : [/////aa/////////////a///////////////////]                                         

   COND       create a configuration file (duplicate and conflicting lines)      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"##/bin/hestia\"                                                                                                                >  /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty2       §  off   §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty2       §  on    §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty3       §  on    §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty3       §  off   §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty4       §  off   §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty5       §  on    §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty5       §  on    §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty6       §  off   §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty6       §  off   §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"## end of file\"                                                                                                               >> /tmp/hestia.conf");                                          

   COND       read the configuration file                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      reset all ttys                       tty_init                                                                                                                          i_equal     0                                                                                                     
     get      ... check tty status                 tty__unit                   "status"               , 0                                                                            s_equal     TTY status       : [////////////////////////////////////////]                                         
     exec     call config read                     conf_driver                                                                                                                       i_equal     0                                                                                                    
     get      ... check tty status                 tty__unit                   "status"               , 0                                                                            s_equal     TTY status       : [//a//a//////////////////////////////////]                                         

   COND       create a configuration file (with mistakes and issues too)         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"##/bin/hestia\"                                                                                                                >  /tmp/hestia.conf");                                          
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"\"                                                                                                                             >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/core       §  on    §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty101     §  on    §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty1       §  off   §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty2       §  off   §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty3       §  on    §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty4       §        §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty5       §  y     §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty10      §  ankle §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty11      §  on    §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty12      §  on    §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty15      §  on    §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty21      §  on    § different login\"                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty32      §  on    §\"                                                                                        >> /tmp/hestia.conf");                                          
     code     add a line                           - - - - - - - - - - - - -   system ("echo \"line     § /dev/tty3       §  off   § turn it back off\"                                                                       >> /tmp/hestia.conf");                                          
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"\"                                                                                                                             >> /tmp/hestia.conf");                                          
     code     add lines                            - - - - - - - - - - - - -   system ("echo \"## end of file\"                                                                                                               >> /tmp/hestia.conf");                                          

   COND       read the configuration file                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      reset all ttys                       tty_init                                                                                                                          i_equal     0                                                                                                     
     get      ... check tty status                 tty__unit                   "status"               , 0                                                                            s_equal     TTY status       : [////////////////////////////////////////]                                         
     exec     call config read                     conf_driver                                                                                                                       i_equal     0                                                                                                    
     get      ... check tty status                 tty__unit                   "status"               , 0                                                                            s_equal     TTY status       : [///////////aa//a/////a//////////a///////]                                         

   COND       wrap up testing                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     remove the old version               - - - - - - - - - - - - -   system ("rm -f /tmp/hestia.conf 2> /dev/null");                                                                                                                                                                                    
     exec     wrap up                              prog__unit_end                                                                                                                    i_equal     0                                                                                                    



# end-of-file
